<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="css/css.css" rel="stylesheet" type="text/css" />
<script src="move2.js" type="text/javascript"></script>
<script type="text/javascript">
window.onload=function()
{
	var oDiv=document.getElementById('div1');
	var aBtn=oDiv.getElementsByTagName('ol')[0].getElementsByTagName('li');
	var oUl=oDiv.getElementsByTagName('ul')[0];
	var oLiImg=oUl.getElementsByTagName('li');
	var now=0;
	
	for(var i=0;i<aBtn.length;i++)
	{
		
		aBtn[i].index=i;
		
		aBtn[i].onclick=function()
		{
			now=this.index;
			tab();
		};
	}
	
	function tab() 
	{
		startMove(oUl,{top:-now*oLiImg[0].offsetHeight});
		
		for(var i=0;i<aBtn.length;i++)
		{
			aBtn[i].className='';
		}
		aBtn[now].className='actived';
	};
	
	function next()
	{
		now++;
		if(now==aBtn.length)now=0;
		tab();
	}
	
	var timer=setInterval(next,2000);
	
	oDiv.onmouseover=function ()
	{
		clearInterval(timer);
	}
	oDiv.onmouseout=function ()
	{
		timer=setInterval(next,2000);             //  不加timer= 会加速切换。ol的zIndex2999,比oDiv高，移动到ol上后，认为移出oDiv，出现一个定时器，点击后定时器就会叠加，
	}
	
}
</script>
</head>

<body style="background:#aaa;">
<div id="div1">
	<ol>
    	<li class="actived">1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ol>
    <ul>
    	<li><img src="images/1.jpg" /></li>
        <li><img src="images/2.jpg" /></li>
        <li><img src="images/3.jpg" /></li>
        <li><img src="images/4.jpg" /></li>
        <li><img src="images/5.jpg" /></li>
    </ul>
</div>
</div>
</body>
</html>
